@model UploadImage
@{
    ViewData["Title"] = "Image Transformer";
}

<h1>ImageView</h1>
<div>
    <form method="post" asp-action="UploadImage" name="photoform">
        <div class="imageform">
            <div class="col-md-10">
                <p>Select your Image:</p>
                <input type="file" name="Image" onchange="encodeImageFileAsURL(this)"/>
            </div>
        </div><br>
              <div class="custom-checkbox">
                  <p>Select your Transformation(s):</p>
                  <input type="checkbox" name="Instructions[0]" value="FlipHorizontal">
                  <label for="Instructions[0]"> Flip Horizontal</label><br><br>
                  <input type="checkbox" name="Instructions[0]" value="FlipVertical">
                  <label for="Instructions[0]"> Flip Vertical</label><br><br>
                  <input type="checkbox" name="Instructions[0]" value="Rotate" onclick="showRotBox(this);">
                  <label for="Instructions[0]"> Rotate</label><br>
                  <p id="insertinputs1"></p>
                  <input type="checkbox" name="Instructions[0]" value="Resize" onclick="showResBox(this);">
                  <label for="Instructions[0]"> Resize</label><br>
                  <p id="insertinputs2"></p>
                  <input type="checkbox" name="Instructions[0]" value="GrayScale">
                  <label for="TInstructions[0]"> GrayScale</label><br><br>
                  <input type="checkbox" name="Instructions[0]" value="RotateLeft">
                  <label for="Instructions[0]"> Rotate Left</label><br><br>
                  <input type="checkbox" name="Instructions[0]" value="RotateRight">
                  <label for="Instructions[0]"> Rotate Right</label><br><br>
                  <input type="checkbox" name="Instructions[0]" value="Thumbnail">
                  <label for="Instructions[0]"> Export as Thumbnail</label><br><br>
              </div>
        <div class="submission">
            <div class="col-md-10">
                <input type="submit" value="Submit" onclick="submitform()" />
            </div>
        </div>
    </form>
</div>
<script>
    function showRotBox(cbox) {
        if (cbox.checked) {
        var input = document.createElement("input");
            input.type = "number";
            input.min = "-360";
            input.max = "360";
        var div = document.createElement("div");
        div.id = cbox.name;
        div.innerHTML = "Rotate (Degrees)";
        div.appendChild(input);
        document.getElementById("insertinputs1").appendChild(div);
      } else {
        document.getElementById(cbox.name).remove();
      }
    }
    function showResBox(cbox) {
        if (cbox.checked) {
        var inputX = document.createElement("input");
            inputX.type = "number";
            inputX.min = "0";
            inputX.max = "999";
        var inputY = document.createElement("input");
            inputY.type = "number";
            inputY.min = "0";
            inputY.max = "999";
        var div = document.createElement("div");
            div.id = cbox.name;
            div.innerHTML += "Resize X Y (Pixels)" + inputX.outerHTML + inputY.outerHTML;
        document.getElementById("insertinputs2").appendChild(div);
      } else {
        document.getElementById(cbox.name).remove();
      }
    }
    function encodeImageFileAsURL(element) {
        var file = element.files[0];
        var reader = new FileReader();
        reader.onloadend = function() {
        console.log('RESULT', reader.result)
        }
        reader.readAsDataURL(file);
    }
    function sumbitform() {
        const formfields = {Instructions: photoform.,Image = photoform.innerHTML}
        var formData = JSON.stringify($("#photoform").serializeArray());

    }
</script>

